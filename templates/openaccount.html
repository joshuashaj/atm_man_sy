{% extends 'index.html' %}

{% block nav %}
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="#">YourBank</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="login">Login</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/">Back</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    {% endblock %}

{% block content %}
    <div class="container1">
        <h2 class="text-center1">Open a Bank Account</h2>
        <form method="POST">
            {% csrf_token %}
            <div class="form-group">
                <label for="fullName" class="form-label">Full Name *</label>
                <input type="text" class="form-control" id="fullName" name="fullName" placeholder="Enter your full name" required>
            </div>
            <div class="form-group">
                <label for="email" class="form-label">Email address *</label>
                <input type="email" class="form-control" id="email" name="email" placeholder="Enter your email" required onkeyup="check_email()">
                <small id="mail"></small>
            </div>
            <div class="form-group">
                <label for="phoneNumber" class="form-label">Phone Number *</label>
                <input type="tel" class="form-control" id="phoneNumber" name="phoneNumber" placeholder="Enter your phone number" required onkeyup="check_phone()">
                <small id="phone"></small>
            </div>
            <div class="form-group">
                <label for="address" class="form-label">Address *</label>
                <input type="text" class="form-control" id="address" name="address" placeholder="Enter your address" required>
            </div>
            <div class="form-group">
                <label for="accountType" class="form-label">Account Type *</label>
                <select class="form-select" id="accountType" name="accountType" required>
                    <option value="">Select account type</option>
                    <option value="savings">Savings Account</option>
                    <option value="current">Current Account</option>
                </select>
            </div>
            <div class="form-group">
                <label for="deposit" class="form-label">Initial Deposit *</label>
                <input type="text" class="form-control" id="deposit" name="deposit" placeholder="Enter your initial deposit" required>
            </div>
            <div class="form-group">
                <input type="checkbox" class="form-check-input" id="terms" name="terms" required>
                <label class="form-check-label" for="terms">I agree to the terms and conditions *</label>
            </div>
            {% for msg in messages %}
            <div class="message">{{ msg }}</div>
            {% endfor %}
            <button type="submit" class="btn-submit1" id="submit">Submit</button>
        </form>
    </div>

    <script>
        // Populate the array with account numbers
        var emails = [
            {% for user in users %}
            "{{ user.email }}",
            {% endfor %}
        ];

        var phone = [
            {% for user in users %}
            "{{ user.phone_number }}",
            {% endfor %}
        ];

    </script>
{% endblock %}


